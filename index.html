<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <!-- 
    FIXED CONTENT SECURITY POLICY (CSP) TAG
    Added 'https://identitytoolkit.googleapis.com' to connect-src
    to allow the v9 auth system to work.
  -->
  <meta http-equiv="Content-Security-Policy" content="
    default-src 'self' https://terousd.neocities.org;
    script-src 'self' https://www.youtube.com https://s.ytimg.com https://www.gstatic.com;
    style-src 'self' 'unsafe-inline' https://fonts.googleapis.com https://cdnjs.cloudflare.com;
    font-src 'self' https://fonts.gstatic.com https://cdnjs.cloudflare.com;
    frame-src 'self' https://www.youtube.com;
    connect-src 'self' https://*.firebaseio.com https://www.googleapis.com https://firestore.googleapis.com https://identitytoolkit.googleapis.com;
  ">

  <title>FRB26 by (Terousd)</title>
  <link rel="stylesheet" href="styles.css" />
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" />
</head>
<body>
  <header>FRB26 by (Terousd)</header>

  <!-- ====== LOGIN & SIGNUP FORMS ====== -->
  <div id="auth-container">
    <div id="login-form" class="auth-form">
      <h3>Login</h3>
      <input type="email" id="login-email" placeholder="Email" />
      <input type="password" id="login-password" placeholder="Password" />
      <button id="login-button">Login</button>
      <p class="auth-message" id="login-message"></p>
      <p>Don't have an account? <a href="#" id="show-signup">Sign Up</a></p>
    </div>
    
    <div id="signup-form" class="auth-form" style="display: none;">
      <h3>Sign Up</h3>
      <input type="email" id="signup-email" placeholder="Email" />
      <input type="password" id="signup-password" placeholder="Password" />
      <button id="signup-button">Sign Up</button>
      <p class="auth-message" id="signup-message"></p>
      <p>Already have an account? <a href="#" id="show-login">Login</a></p>
    </div>
  </div>

  <!-- ====== YOUR MAIN APP (Hidden by default) ====== -->
  <div id="main-app-content" style="display: none;">
    <p id="realtime-clock"></p>
    <button id="logout-button">Logout</button> <!-- Added logout button -->

    <div class="container">
      <div class="main-content">
        <div class="video">
          <div class="video-player" data-id="1">
          
            <div id="video-placeholder">
              <h3 style="color: var(--text-secondary); line-height: 1.5; font-weight: 500;">
                ভিডিও শুরু করতে যেকোনো একটি ক্লাসের<br>ওপর ক্লিক করুন!
              </h3>
            </div>
            <iframe
              id="player1"
              src="https://www.youtube.com/embed/?enablejsapi=1&controls=0&modestbranding=1&showinfo=0&rel=0"
              allow="autoplay; fullscreen"
              allowfullscreen
            ></iframe>
            <div class="video-player-overlay">
              <button class="overlay-play-btn" data-player="1" title="Play">
                <i class="fas fa-play"></i>
              </button>
            </div>
            <div class="speed-menu" data-player="1" style="display: none;">
              <div class="speed-option" data-speed="2">2.0x</div>
              <div class="speed-option" data-speed="1.5">1.5x</div>
              <div class="speed-option current-speed" data-speed="1">Normal</div>
              <div class="speed-option" data-speed="0.75">0.75x</div>
              <div class="speed-option" data-speed="0.5">0.5x</div>
            </div>
            
            <div class="custom-controls" data-player="1">
              <button class="control-btn rewind-btn" data-player="1" title="Rewind 10s"><i class="fas fa-backward-step"></i></button>
              <button class="control-btn play-pause-btn" data-player="1"><i class="fas fa-play"></i></button>
              <button class="control-btn forward-btn" data-player="1" title="Forward 10s"><i class="fas fa-forward-step"></i></button>
              
              <div class="progress-container" data-player="1">
                <div class="progress-bar"></div>
                <span class="seek-tooltip" data-player="1">0:00</span>
              </div>
              
              <span class="time-display" data-player="1">0:00 / 0:00</span>
              
              <button class="control-btn live-btn" data-player="1" style="display: none;" title="Go Live">LIVE</button>
              
              <button class="control-btn fullscreen-btn" data-player="1"><i class="fas fa-arrows-rotate"></i></button>
              <button class="control-btn volume-btn" data-player="1"><i class="fas fa-volume-up"></i></button>
              
              <button class="control-btn settings-btn" data-player="1"><i class="fas fa-cog"></i></button>
            </div>
          </div>
          </div>
      </div>

      <aside class="sidebar">
        <h2>Related Videos</h2>
        <ul class="topic-list" id="topic-list-1" data-player="1">
          
          <li class="topic-item" data-video-id="d7glwJ5yd20">
            <span>Muhehehe</span>
          </li>
          <li class="topic-item" data-video-id="yebNIHKAC4A">
            <span>2:30 er live</span>
          </li>
          <li class="topic-item" data-video-id="mKCieTImjvU">
            <span>9:30 er live</span>
          </li>
           <li class="topic-item" data-video-id="bjaQpiEaNaU">
            <span>Rose woke up in yew york city</span>
          </li>

        </ul>
      </aside>
    </div>
  </div><!-- End of #main-app-content -->

  <footer>
    <div class="social-icon">
      <a href="https://t.me/terousd" target="_blank" title="My Telegram Profile">
        <i class="fab fa-telegram"></i>
      </a>
    </div>
    <p class="telegram-message">Recorded Class lagle telegram e message dau</p>
    <p class="copyright">© 2025 Terousd</p>
  </footer>

  <!-- 
    FIXED FIREBASE SCRIPT (v9 MODULAR)
    Changed 'type_to_remove' to 'type="module"'
  -->
  <script type="module">
    // Import the functions you need from the SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js";
  
    // =================================================================
    // YOUR LIVE FIREBASE CONFIG
    // =================================================================
    const firebaseConfig = {
      apiKey: "AIzaSyA1CkbaFKLSaqWROOl_Q3b_3gjuJCp3pHs",
      authDomain: "frb-26.firebaseapp.com",
      projectId: "frb-26",
      storageBucket: "frb-26.firebasestorage.app",
      messagingSenderId: "593300775041",
      appId: "1:593300775041:web:0aa92dddedd935c5f6ad80",
      measurementId: "G-D63F9N3HPF"
    };

    // Initialize Firebase and get services
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // Pass these to the main script
    window.firebaseServices = { auth, db, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut, doc, setDoc, getDoc };
    
  </script>

  <!-- Your existing scripts -->
  <script src="https://www.youtube.com/iframe_api"></script>
  <!-- 
    We add type="module" to script.js so it can 'await' the
    firebaseServices to be ready.
  -->
  <script src="script.js" type="module"></script>
</body>
</html>

